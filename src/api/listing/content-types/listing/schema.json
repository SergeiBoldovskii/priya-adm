{
  "kind": "collectionType",
  "collectionName": "listings",
  "info": { "singularName": "listing", "pluralName": "listings", "displayName": "Listing" },
  "options": { "draftAndPublish": true },
  "attributes": {
    "title": { "type": "string", "required": true },
    "slug":  { "type": "uid", "targetField": "title", "required": true, "unique": true },

    "description": { "type": "richtext" },
    "price": { "type": "integer" },

    "images": {
      "type": "media",
      "multiple": true,
      "required": false,
      "allowedTypes": ["images"]
    },

    "category": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "api::category.category",
      "inversedBy": "listings"
    },

    "features": {
      "type": "component",
      "repeatable": true,
      "component": "feature.feature"
    },

    "seo": {
      "type": "component",
      "repeatable": false,
      "component": "seo.seo"
    }
  }
}
